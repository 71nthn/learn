<!DOCTYPE html>
<html>
<head>
  <title>Sistem Login</title>
  <!--
  <style type="text/css">
  body {
  font-family: Arial, sans-serif;
  text-align: center;
  }
  
  h2 {
  color: #333;
  }
  
  form {
  margin-top: 50px;
  }
  
  input[type="text"],
  input[type="password"] {
  padding: 10px;
  margin: 10px;
  }
  
  button {
  padding: 10px 20px;
  background-color: #333;
  color: #fff;
  border: none;
  cursor: pointer;
  }
  
  </style>
  -->
</head>
<body>
  <h2>Sistem Signup</h2>
  <form id="signupForm" onsubmit="signup(event)">
    <input type="text" id="newUsername" placeholder="New Username" required>
    <input type="password" id="newPassword" placeholder="New Password" required>
    <button type="submit">Signup</button>
  </form>

  <h2>Sistem Login</h2>
  <form id="loginForm" onsubmit="login(event)">
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit">Login</button>
  </form>

  <script type="text/javascript">
  function signup(event) {
  event.preventDefault();
  
  var newUsername = document.getElementById('newUsername').value;
  var newPassword = document.getElementById('newPassword').value;
  
  // Mendapatkan data pengguna dari localStorage
  var users = JSON.parse(localStorage.getItem('users')) || [];
  
  // Memeriksa apakah username sudah digunakan
  var existingUser = users.find(function(user) {
  return user.username === newUsername;
  });
  
  if (existingUser) {
  alert('Username sudah digunakan. Silakan pilih username lain.');
  } else {
  // Menambahkan pengguna baru ke data pengguna
  users.push({ username: newUsername, password: newPassword });
  // Menyimpan data pengguna ke localStorage
  localStorage.setItem('users', JSON.stringify(users));
  alert('Signup berhasil! Silakan login dengan username dan password baru Anda.');
  // Reset form signup
  document.getElementById('signupForm').reset();
  }
  }
  
  function login(event) {
  event.preventDefault();
  
  var username = document.getElementById('username').value;
  var password = document.getElementById('password').value;
  
  // Mendapatkan data pengguna dari localStorage
  var users = JSON.parse(localStorage.getItem('users')) || [];
  
  // Memeriksa kecocokan input login dengan data pengguna yang ada
  var user = users.find(function(user) {
  return user.username === username && user.password === password;
  });
  
  if (user) {
  alert('Login berhasil!');
  // Redirect ke halaman lain setelah login
  window.location.href = 'indexlama.html';
  } else {
  alert('Username atau password salah. Silakan coba lagi.');
  }
  }
  
  </script>
</body>
</html>
